# =============================================================================
# Auth Server Environment Variables
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration (Neon PostgreSQL)
# -----------------------------------------------------------------------------
# Connection string for PostgreSQL database (Neon serverless or standard PostgreSQL)
# Format: postgresql://user:password@host:port/database?sslmode=require
# Get this from: https://console.neon.tech (for Neon)
DATABASE_URL="postgresql://username:password@ep-xxx.us-east-2.aws.neon.tech/neondb?sslmode=require"

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
# Environment: "development" | "production" | "test"
# - development: Verbose logging, email verification links in console
# - production: Minimal logging, secure cookies, HTTPS required
NODE_ENV="development"

# Server port (default: 8080 for auth server, FastAPI uses 8000)
PORT=8080

# -----------------------------------------------------------------------------
# Authentication & Security
# -----------------------------------------------------------------------------
# Better-auth secret key (32+ characters recommended)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# CRITICAL: Keep this secret! Used for signing JWT tokens and sessions
BETTER_AUTH_SECRET="generate-a-secure-random-string-min-32-chars-long"

# -----------------------------------------------------------------------------
# CORS (Cross-Origin Resource Sharing)
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins (no spaces after commas)
# Development: Include localhost URLs for frontend and API
# Production: Include your production domain(s)
CORS_ORIGINS="http://localhost:3000,http://localhost:5173,http://localhost:8000"

# -----------------------------------------------------------------------------
# Email Service (Resend)
# -----------------------------------------------------------------------------
# Resend API key for sending verification and password reset emails
# Get your API key from: https://resend.com/api-keys
# Free tier: 3,000 emails/month
RESEND_API_KEY="re_your_resend_api_key_here"

# Email sender address (must be verified in Resend dashboard)
# For custom domains: verify domain in Resend first
# For testing: use Resend's test domain (resend.dev)
EMAIL_FROM="noreply@yourdomain.com"

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
# Primary frontend URL (used for email links and redirects)
# Development: http://localhost:3000 or http://localhost:5173
# Production: https://yourdomain.com
FRONTEND_URL="http://localhost:3000"

# -----------------------------------------------------------------------------
# OAuth Providers (Optional - Phase 9)
# -----------------------------------------------------------------------------
# Google OAuth credentials (optional, for Google sign-in)
# Get from: https://console.cloud.google.com/apis/credentials
# Create OAuth 2.0 Client ID, add authorized redirect URIs
# GOOGLE_CLIENT_ID="your-client-id.apps.googleusercontent.com"
# GOOGLE_CLIENT_SECRET="your-client-secret"
# GOOGLE_REDIRECT_URI="http://localhost:8080/api/auth/callback/google"

# -----------------------------------------------------------------------------
# Additional Notes
# -----------------------------------------------------------------------------
# 1. DATABASE_URL format for Neon:
#    postgresql://user:pass@ep-xxx.region.aws.neon.tech/dbname?sslmode=require
#
# 2. For production deployment:
#    - Set NODE_ENV="production"
#    - Use HTTPS URLs for FRONTEND_URL and CORS_ORIGINS
#    - Ensure BETTER_AUTH_SECRET is strong (32+ chars)
#    - Verify EMAIL_FROM domain in Resend
#
# 3. Testing email locally:
#    - In development, verification links print to console
#    - Set RESEND_API_KEY to enable actual email sending
#
# 4. CORS_ORIGINS format:
#    - No spaces: "https://app.com,https://www.app.com"
#    - Include all domains that will call your auth server
#
# 5. Generate secure secrets:
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"